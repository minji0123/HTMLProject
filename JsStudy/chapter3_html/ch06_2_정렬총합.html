ch<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <script src="../chapter1_js/jquery-3.6.0.min.js"> </script>
    <link href="../chapter3_css/ch03.css" rel="stylesheet">

    <title>Hello, world!</title>
</head>


<!--웹 개발 방식 2가지
1. 서버가 html 파일 완성된거를 유저에게 보내는 방식 
2. 서버가 빈 html파일 + 데이터를 보내고, 그 다음에 js를 이용해서 채워넣기  --얘를 사용할거고 웹앱 트랜드이기도함
-->
<body>
<br>
<h1 style="text-align: center;">array of object</h1>
<br>
<div class="card-group container">
  <div class="card">
    <img src="https://via.placeholder.com/600">
    <div class="card-body">
      <h5 class="title">Card title</h5>
      <p class="price">가격 : 70000</p>
      <button class="btn btn-danger">주문하기</button>
    </div>
  </div>
  <div class="card">
    <img src="https://via.placeholder.com/600">
    <div class="card-body">
      <h5 class="title">Card title</h5>
      <p class="price">가격 : 70000</p>
      <button class="btn btn-danger">주문하기</button>
    </div>
  </div>
  <div class="card">
    <img src="https://via.placeholder.com/600">
    <div class="card-body">
      <h5 class="title">Card title</h5>
      <p class="price">가격 : 70000</p>
      <button class="btn btn-danger">주문하기</button>
    </div>
  </div>
</div>

<div class="container my-4">
<button class="btn btn-danger" id="sortPrice">가격순정렬</button>
<button class="btn btn-primary" id="abc">가나다순</button>
<button class="btn btn-primary" id="filter">6만원이하</button>
</div>

<!--얘를 서버가 보낸 쇼핑몰 상품데이터라고 가정하고 공부ㄱㄱ-->
<script>
  var products = [
    { id : 0, price : 70000, title : 'Blossom Dress' },
    { id : 1, price : 50000, title : 'Springfield Shirt' },
    { id : 2, price : 60000, title : 'Black Monastery' }
  ];
    
    /*array 값 공유 안되게 사본생성하는 법*/
//    var 어레이 = [1,2,3];
//    var 어레이2 = [...어레이]; // spread operator
    
    바인딩();
    
    
    // 버튼 누르면은 정렬되게 했구
    $('#sortPrice').click(function(){
        products.sort(function(a,b){
            return a.price - b.price;
        })
        
    바인딩();
        
});

    // 가나다순 정렬
    $('#abc').click(function(){
        products.sort(function(a,b){
            if (a.title < b.title == true){
            return -1; 
            // 가<나 해서 true면 음수ㄱㄱ
            // +를 리턴하면 b를 왼쪽
            // -를 리턴하면 b를 오른쪽
            }else{
                return 1;
            }
        });
   

    // 그다음에 데이터바인딩ㄱㄱ
    바인딩();
        
});
    
    // 6만원이하 정렬
    $('#filter').click(function(){
        // 1. 버튼을 누르면 products를 필터함 -> 그럼 [{}{}]만 남음
        var 새상품 = products.filter(function(){
            
            return a.price <=60000;
        });
        console.log(새상품);
        
        // 2. 새상품 갯수에 맞게 상품목록 html 생성
        새상품.forEach(function(a){
            var template = `<div>${a.title} ${a.price}</div>`;
            $('card-group').append(template);
        });     
        
    };
                      
        
    // 이거를 var 바인딩 = function(){}; 이렇게 적으면 맨 위에서 선언해야됨
    function 바인딩() {
        $('.title').eq(0).html(products[0].title);
        $('.price').eq(0).html('가격 : ' + products[0].price);

        $('.title').eq(1).html(products[1].title);
        $('.price').eq(1).html('가격 : ' + products[1].price);

        $('.title').eq(2).html(products[2].title);
        $('.price').eq(2).html('가격 : ' + products[2].price); 
    };
    

    
</script>

</body></html>

