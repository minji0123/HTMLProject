<button id="target" ></button>
<script>
    // es8 문법임


    // 콜백으로 순차적 실행 구현
    함수 = () =>{
        console.log('나는 콜백함수');
    };


    계산= (콜백) => {
        1+1
        콜백();
    }
    계산(함수);



    // promise 로 순차적 실행 구현
    계산 = new Promise ((성공,실패) => {
        1+1
        성공();
    })


    계산().then(()=>{

    })



    // async/await => Promise 를 이쁘게 쓸 수 있게 해주는 칭구들
    // new Promise 안해도 이제 구현할 수 있게되었어!
    계산 = async () => {
        // 1+1;
        // return 1+1;
        return Promise.reject('실패'); // 실패는 따로 이렇게 보낼 수 이ㅣㅆ다.
    }
    
    계산().then((결과)=>{
        console.log('async 성공',결과);
    });

    

    // async/await
    // 여기 안에다가 Promise 쓸 수 있다.
    계산 = async () => {
       var 프로미스 = new Promise((성공,실패) => {
            var 연산 = 1+1;
            성공(연산);
            // 실패();
       })

    //    프로미스.then(() => {
    //         console.log('성공했어요');
    //    })

       var 결과 = await 프로미스;
       
       console.log(결과);
       // await 은 프로미스 해결할 때 까지 기달려달라는 뜻임
    }
    // 근데 await 은 실패() 랑 같이 쓰면 오류남
    // 왜냐면 얘는 프로미스 해결할 때 까지 기다려야 하는애여서 그럼


    // 실패() 랑 같이 쓰려면 try catch ㄲ

    계산 = async () => {
       var 프로미스 = new Promise((성공,실패) => {
            var 연산 = 1+1;
            // 성공(연산);
            실패();
       })

       try{
            // 이거ㄲ
            var 결과 = await 프로미스;
            console.log(결과);
        }catch{
            // 혹시 오류나면 이거 ㄲ
            console.log('님실패임');
        }
    }




    // 예제
    // button 을 누르면 성공 판정하는 Promise
    버튼 = async () => {
        var 프로미스 = new Promise((성공, 실패)=> {
            document.getElementById('target').addEventListener('click',() => {
                성공('성공이야');
            })
        })
        try{
            // 이거ㄲ
            var 결과 = await 프로미스;
            console.log(결과);
        }catch{
            // 혹시 오류나면 이거 ㄲ
            console.log('님실패임');
        }
    }
</script>